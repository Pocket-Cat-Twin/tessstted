# Windows PC Fix - Registration Method Error ü™ü

## üéØ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

**–û—à–∏–±–∫–∞:** `PostgresError: —Å—Ç–æ–ª–±–µ—Ü "registration_method" –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç`

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∏–≥—Ä–∞—Ü–∏—è 0002 –Ω–µ –±—ã–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –Ω–∞ Windows PC.

---

## üìã –ü–û–®–ê–ì–û–í–û–ï –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å PostgreSQL
```powershell
# 1. –û—Ç–∫—Ä—ã—Ç—å PostgreSQL –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
psql -U postgres

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
ALTER USER postgres PASSWORD 'postgres';

# 3. –í—ã–π—Ç–∏
\q
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```powershell
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd C:\path\to\your\project

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Windows –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
copy .env.windows .env

# 3. –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å .env –≤—Ä—É—á–Ω—É—é —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```

**.env —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
```env
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/yuyu_lolita
API_PORT=3001
API_HOST=localhost
PUBLIC_API_URL=http://localhost:3001
WEB_PORT=5173
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173
```

### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–ì–õ–ê–í–ù–û–ï!)
```powershell
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
bun install

# 2. –ü–†–ò–ú–ï–ù–ò–¢–¨ –í–°–ï –ú–ò–ì–†–ê–¶–ò–ò (–≤–∫–ª—é—á–∞—è 0002)
bun run db:migrate:windows

# 3. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
cd packages/db
bun run migrate:windows
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å setup
bun run setup:windows

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
bun run dev:windows
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
psql -U postgres -d yuyu_lolita

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
\d users

-- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
-- registration_method | registration_method | not null | email

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
SELECT * FROM drizzle.__drizzle_migrations;

-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3 —Å—Ç—Ä–æ–∫–∏ (0000, 0001, 0002)
```

---

## üöÄ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–û–ï –†–ï–®–ï–ù–ò–ï

–ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```powershell
# 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é 0002 –≤—Ä—É—á–Ω—É—é
psql -U postgres -d yuyu_lolita -f packages/db/migrations/0002_multi_auth_support.sql

# 2. –û–±–Ω–æ–≤–∏—Ç—å –∂—É—Ä–Ω–∞–ª –º–∏–≥—Ä–∞—Ü–∏–π –≤—Ä—É—á–Ω—É—é
psql -U postgres -d yuyu_lolita
```

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ 0002
INSERT INTO drizzle.__drizzle_migrations (hash, created_at) 
VALUES ('0002_multi_auth_support', extract(epoch from now()) * 1000);
```

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

‚úÖ **–ö–æ–ª–æ–Ω–∫–∞ registration_method —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**  
‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 0002 –ø—Ä–∏–º–µ–Ω–µ–Ω–∞**  
‚úÖ **API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**  
‚úÖ **–ö–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç:**
- `bun run setup:windows` ‚úÖ
- `bun run dev:windows` ‚úÖ

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é PostgreSQL:** `psql --version`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–∏—Å:** `sc query postgresql*`
3. **–ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥ –æ—à–∏–±–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é**

**–°—Ç–∞—Ç—É—Å: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û** ‚úÖ