{"timestamp": "2025-09-17T13:11:22.820082", "level": "INFO", "logger": "main", "message": "=== Market Monitoring System Starting ===", "module": "main", "function": "initialize", "line": 105}
{"timestamp": "2025-09-17T13:11:22.820082", "level": "INFO", "logger": "main", "message": "Configuration loaded from: config.json", "module": "main", "function": "initialize", "line": 106}
{"timestamp": "2025-09-17T13:11:22.821080", "level": "INFO", "logger": "main", "message": "Initializing file utilities...", "module": "main", "function": "initialize", "line": 109}
{"timestamp": "2025-09-17T13:11:22.821080", "level": "INFO", "logger": "main", "message": "Initializing database...", "module": "main", "function": "initialize", "line": 113}
{"timestamp": "2025-09-17T13:11:23.016920", "level": "INFO", "logger": "core.database_manager", "message": "Database schema initialized successfully", "module": "database_manager", "function": "_initialize_database", "line": 236}
{"timestamp": "2025-09-17T13:11:23.017920", "level": "INFO", "logger": "main", "message": "Initializing image processor...", "module": "main", "function": "initialize", "line": 120}
{"timestamp": "2025-09-17T13:11:23.017920", "level": "INFO", "logger": "main", "message": "Initializing OCR client...", "module": "main", "function": "initialize", "line": 123}
{"timestamp": "2025-09-17T13:11:23.018921", "level": "INFO", "logger": "core.ocr_client", "message": "OCR client initialized with api_key auth, ocr format", "module": "ocr_client", "function": "__init__", "line": 77}
{"timestamp": "2025-09-17T13:11:23.018921", "level": "INFO", "logger": "main", "message": "Initializing OCR queue...", "module": "main", "function": "initialize", "line": 126}
{"timestamp": "2025-09-17T13:11:23.019920", "level": "INFO", "logger": "main", "message": "Initializing text parser...", "module": "main", "function": "initialize", "line": 133}
{"timestamp": "2025-09-17T13:11:23.023920", "level": "INFO", "logger": "core.text_parser", "message": "Compiled 10 parsing patterns", "module": "text_parser", "function": "_compile_patterns", "line": 374}
{"timestamp": "2025-09-17T13:11:23.023920", "level": "INFO", "logger": "main", "message": "Initializing monitoring engine...", "module": "main", "function": "initialize", "line": 136}
{"timestamp": "2025-09-17T13:11:23.023920", "level": "INFO", "logger": "main", "message": "Initializing screenshot capture...", "module": "main", "function": "initialize", "line": 140}
{"timestamp": "2025-09-17T13:11:23.024922", "level": "INFO", "logger": "main", "message": "Initializing task scheduler...", "module": "main", "function": "initialize", "line": 149}
{"timestamp": "2025-09-17T13:11:23.040920", "level": "INFO", "logger": "main", "message": "Performing system health checks...", "module": "main", "function": "initialize", "line": 160}
{"timestamp": "2025-09-17T13:11:23.041921", "level": "INFO", "logger": "main", "message": "Checking database connectivity...", "module": "main", "function": "_perform_health_checks", "line": 197}
{"timestamp": "2025-09-17T13:11:23.041921", "level": "INFO", "logger": "main", "message": "Database check passed - status summary: {}", "module": "main", "function": "_perform_health_checks", "line": 200}
{"timestamp": "2025-09-17T13:11:23.042921", "level": "INFO", "logger": "main", "message": "Checking OCR API connectivity...", "module": "main", "function": "_perform_health_checks", "line": 206}
{"timestamp": "2025-09-17T13:11:24.405614", "level": "INFO", "logger": "core.ocr_client", "message": "OCR API connection test successful", "module": "ocr_client", "function": "test_api_connection", "line": 825}
{"timestamp": "2025-09-17T13:11:24.405614", "level": "INFO", "logger": "main", "message": "OCR API check passed", "module": "main", "function": "_perform_health_checks", "line": 209}
{"timestamp": "2025-09-17T13:11:24.406614", "level": "INFO", "logger": "main", "message": "Checking file system permissions...", "module": "main", "function": "_perform_health_checks", "line": 217}
{"timestamp": "2025-09-17T13:11:24.408615", "level": "INFO", "logger": "main", "message": "File system check passed", "module": "main", "function": "_perform_health_checks", "line": 231}
{"timestamp": "2025-09-17T13:11:24.408615", "level": "INFO", "logger": "main", "message": "Checking configuration completeness...", "module": "main", "function": "_perform_health_checks", "line": 238}
{"timestamp": "2025-09-17T13:11:24.409615", "level": "INFO", "logger": "main", "message": "Configuration check passed - 3 enabled hotkeys", "module": "main", "function": "_perform_health_checks", "line": 243}
{"timestamp": "2025-09-17T13:11:24.409615", "level": "INFO", "logger": "main", "message": "System initialization completed successfully", "module": "main", "function": "initialize", "line": 167}
{"timestamp": "2025-09-17T13:11:24.409615", "level": "INFO", "logger": "main", "message": "Starting Market Monitoring System...", "module": "main", "function": "start", "line": 263}
{"timestamp": "2025-09-17T13:11:24.410615", "level": "INFO", "logger": "main", "message": "Starting OCR processing queue...", "module": "main", "function": "start", "line": 266}
{"timestamp": "2025-09-17T13:11:24.412616", "level": "INFO", "logger": "core.ocr_queue", "message": "OCR queue started with 2 workers", "module": "ocr_queue", "function": "start", "line": 137}
{"timestamp": "2025-09-17T13:11:24.412616", "level": "INFO", "logger": "main", "message": "Starting screenshot capture system...", "module": "main", "function": "start", "line": 271}
{"timestamp": "2025-09-17T13:11:24.412616", "level": "ERROR", "logger": "core.screenshot_capture", "message": "Failed to clear hotkey handlers: '_KeyboardListener' object has no attribute 'blocking_hotkeys'", "module": "screenshot_capture", "function": "_clear_hotkey_handlers", "line": 164}
{"timestamp": "2025-09-17T13:11:24.485614", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F1 for Полная обработка товаров (цена, количество)", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:11:24.485614", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F2 for Минимальная обработка связок продавец-товар", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:11:24.486615", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F3 for Дополнительная полная обработка товаров", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:11:24.486615", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered 3 global hotkeys", "module": "screenshot_capture", "function": "register_global_hotkeys", "line": 128}
{"timestamp": "2025-09-17T13:11:24.487615", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot capture system started successfully", "module": "screenshot_capture", "function": "start_monitoring", "line": 394}
{"timestamp": "2025-09-17T13:11:24.487615", "level": "INFO", "logger": "main", "message": "Starting task scheduler...", "module": "main", "function": "start", "line": 277}
{"timestamp": "2025-09-17T13:11:24.487615", "level": "INFO", "logger": "utils.scheduler", "message": "Starting task scheduler", "module": "scheduler", "function": "start_monitoring", "line": 460}
{"timestamp": "2025-09-17T13:11:24.488615", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.488615", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F1 processing every 30s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:11:24.489615", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.489615", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F2 processing every 60s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:11:24.489615", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.490616", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F3 processing every 45s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:11:24.490616", "level": "INFO", "logger": "utils.scheduler", "message": "Setup 3 hotkey processing timers", "module": "scheduler", "function": "setup_hotkey_timers", "line": 139}
{"timestamp": "2025-09-17T13:11:24.490616", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.491615", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled status check cycle every 10s", "module": "scheduler", "function": "setup_status_check_cycle", "line": 320}
{"timestamp": "2025-09-17T13:11:24.529613", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.530613", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:11:24.531614", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled maintenance tasks", "module": "scheduler", "function": "setup_maintenance_tasks", "line": 398}
{"timestamp": "2025-09-17T13:11:24.590217", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F1 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.591219", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F2 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.591219", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F3 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.592219", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Status check and transition cycle\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.592219", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Daily maintenance cleanup\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.593218", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Weekly database maintenance\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:11:24.593218", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Scheduler started", "module": "base", "function": "start", "line": 181}
{"timestamp": "2025-09-17T13:11:24.593218", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduler started with 6 jobs:", "module": "scheduler", "function": "start_monitoring", "line": 473}
{"timestamp": "2025-09-17T13:11:24.594218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Status check and transition cycle (next run: 2025-09-17 13:11:34)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.594218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F1 screenshots (next run: 2025-09-17 13:11:54)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.594218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F3 screenshots (next run: 2025-09-17 13:12:09)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.595218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F2 screenshots (next run: 2025-09-17 13:12:24)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.595218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Daily maintenance cleanup (next run: 2025-09-18 02:00:00)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.596218", "level": "INFO", "logger": "utils.scheduler", "message": "  - Weekly database maintenance (next run: 2025-09-21 03:00:00)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:11:24.596218", "level": "INFO", "logger": "main", "message": "System started successfully with configuration: {'config_file': 'config.json', 'last_modified': '2025-09-17T13:11:17.253616', 'hotkeys': {'total': 4, 'enabled': 3, 'disabled': 1}, 'yandex_ocr': {'configured': True, 'api_url': 'https://ocr.api.cloud.yandex.net/ocr/v1/recognizeText'}, 'monitoring': {'check_interval': 10, 'cleanup_days': 30}, 'paths': {'database': 'database\\\\market_data.db', 'logs': 'data\\\\logs'}}", "module": "main", "function": "start", "line": 284}
{"timestamp": "2025-09-17T13:11:24.596218", "level": "INFO", "logger": "main", "message": "Market Monitoring System is running. Press Ctrl+C to stop.", "module": "main", "function": "run_forever", "line": 340}
{"timestamp": "2025-09-17T13:11:34.505096", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:11:44 MSK)\" (scheduled at 2025-09-17 13:11:34.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:11:34.545656", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:11:34.546654", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:11:44 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:11:44.493629", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:11:54 MSK)\" (scheduled at 2025-09-17 13:11:44.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:11:44.494629", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:11:44.494629", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:11:54 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:11:54.504176", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:12:24 MSK)\" (scheduled at 2025-09-17 13:11:54.488614+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:11:54.504176", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:04 MSK)\" (scheduled at 2025-09-17 13:11:54.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:11:54.506175", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:12:24 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:11:54.506175", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:11:54.507175", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:04 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:04.503980", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:14 MSK)\" (scheduled at 2025-09-17 13:12:04.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:04.504981", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:04.504981", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:14 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:09.499912", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:12:54 MSK)\" (scheduled at 2025-09-17 13:12:09.489615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:09.500913", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:12:54 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:14.497405", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:24 MSK)\" (scheduled at 2025-09-17 13:12:14.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:14.498406", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:14.498406", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:24 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:17.044540", "level": "INFO", "logger": "core.screenshot_capture", "message": "Hotkey F2 pressed - capturing screenshot", "module": "screenshot_capture", "function": "_handle_hotkey_press", "line": 179}
{"timestamp": "2025-09-17T13:12:17.699686", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot captured successfully: F2_20250917_131217_044_bd371579.png (700x500) in 0.654s", "module": "screenshot_capture", "function": "capture_area", "line": 277}
{"timestamp": "2025-09-17T13:12:18.035775", "level": "INFO", "logger": "core.screenshot_capture", "message": "Hotkey F2 pressed - capturing screenshot", "module": "screenshot_capture", "function": "_handle_hotkey_press", "line": 179}
{"timestamp": "2025-09-17T13:12:18.242775", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot captured successfully: F2_20250917_131218_036_0248d764.png (700x500) in 0.206s", "module": "screenshot_capture", "function": "capture_area", "line": 277}
{"timestamp": "2025-09-17T13:12:24.492261", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:12:54 MSK)\" (scheduled at 2025-09-17 13:12:24.488614+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:24.492261", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:13:24 MSK)\" (scheduled at 2025-09-17 13:12:24.489615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:24.492261", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:34 MSK)\" (scheduled at 2025-09-17 13:12:24.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:24.494262", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:12:54 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:24.494262", "level": "INFO", "logger": "core.image_processor", "message": "Processing 2 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:12:24.495262", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:24.495262", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:34 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:24.645223", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 2 images into merged_20250917_131224_561_10ea582c.jpg (700x1000) in 0.150s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:12:24.649223", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 2 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:12:24.650224", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 1 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:12:24.651224", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758103944_fccb619a for F2 (session 1)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:12:24.651224", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758103944_fccb619a (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:12:24.651224", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:13:24 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:24.652223", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 151fd41b for merged_20250917_131224_561_10ea582c.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:12:24.652223", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:12:25.263680", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 151fd41b: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:25.264681", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:12:26.437831", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 151fd41b: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"d87e990f-91af-4539-9afd-0a6797ef1944\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:26.438830", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:12:26.438830", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758103944_fccb619a failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:12:26.438830", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758103944_fccb619a for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:12:28.440361", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758103944_fccb619a (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:12:28.440361", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request f0894295 for merged_20250917_131224_561_10ea582c.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:12:28.441363", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:12:28.565265", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr f0894295: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:28.565791", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:12:28.638981", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision f0894295: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"f3a0e561-14a2-4de4-8b7c-2a7719aea0a0\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:28.639982", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:12:28.640983", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758103944_fccb619a failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:12:28.640983", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758103944_fccb619a for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:12:32.642479", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758103944_fccb619a (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:12:32.642479", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request b179809e for merged_20250917_131224_561_10ea582c.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:12:32.643480", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:12:32.794499", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr b179809e: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:32.795500", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:12:32.892112", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision b179809e: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"4fdb0708-6e6a-4aed-82f2-098678f04ca3\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:12:32.893110", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:12:32.894109", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758103944_fccb619a failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:12:32.894109", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758103944_fccb619a)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:12:32.904111", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758103944_fccb619a permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:12:34.505224", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:44 MSK)\" (scheduled at 2025-09-17 13:12:34.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:34.506223", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:34.506223", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:44 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:44.493314", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:54 MSK)\" (scheduled at 2025-09-17 13:12:44.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:44.494314", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:44.494314", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:12:54 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:54.496471", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:13:24 MSK)\" (scheduled at 2025-09-17 13:12:54.488614+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:54.496471", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:13:39 MSK)\" (scheduled at 2025-09-17 13:12:54.489615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:54.496471", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:13:04 MSK)\" (scheduled at 2025-09-17 13:12:54.490615+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:12:54.497985", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:13:24 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:54.497985", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:12:54.497985", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:13:39 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:54.498984", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:13:04 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:12:57.808611", "level": "INFO", "logger": "main", "message": "Received SIGINT, initiating shutdown...", "module": "main", "function": "signal_handler", "line": 72}
{"timestamp": "2025-09-17T13:12:57.809611", "level": "INFO", "logger": "main", "message": "Shutting down Market Monitoring System...", "module": "main", "function": "shutdown", "line": 299}
{"timestamp": "2025-09-17T13:12:57.809611", "level": "INFO", "logger": "main", "message": "Stopping task scheduler...", "module": "main", "function": "shutdown", "line": 304}
{"timestamp": "2025-09-17T13:12:57.810610", "level": "INFO", "logger": "utils.scheduler", "message": "Stopping task scheduler", "module": "scheduler", "function": "stop_monitoring", "line": 488}
{"timestamp": "2025-09-17T13:12:57.810610", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Scheduler has been shut down", "module": "base", "function": "shutdown", "line": 212}
{"timestamp": "2025-09-17T13:12:57.811623", "level": "INFO", "logger": "utils.scheduler", "message": "Task scheduler stopped", "module": "scheduler", "function": "stop_monitoring", "line": 494}
{"timestamp": "2025-09-17T13:12:57.811623", "level": "INFO", "logger": "main", "message": "Stopping screenshot capture...", "module": "main", "function": "shutdown", "line": 308}
{"timestamp": "2025-09-17T13:12:57.812609", "level": "ERROR", "logger": "core.screenshot_capture", "message": "Error closing MSS instance: '_thread._local' object has no attribute 'bmp'", "module": "screenshot_capture", "function": "_cleanup_mss_instance", "line": 105}
{"timestamp": "2025-09-17T13:12:57.812609", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot capture system stopped", "module": "screenshot_capture", "function": "stop_monitoring", "line": 413}
{"timestamp": "2025-09-17T13:12:57.812609", "level": "INFO", "logger": "main", "message": "Stopping OCR queue...", "module": "main", "function": "shutdown", "line": 312}
{"timestamp": "2025-09-17T13:12:57.813609", "level": "INFO", "logger": "core.ocr_queue", "message": "Stopping OCR queue...", "module": "ocr_queue", "function": "stop", "line": 144}
{"timestamp": "2025-09-17T13:12:58.389498", "level": "INFO", "logger": "core.ocr_queue", "message": "OCR queue stopped", "module": "ocr_queue", "function": "stop", "line": 158}
{"timestamp": "2025-09-17T13:12:58.389498", "level": "INFO", "logger": "main", "message": "Closing OCR client...", "module": "main", "function": "shutdown", "line": 316}
{"timestamp": "2025-09-17T13:12:58.392498", "level": "INFO", "logger": "core.ocr_client", "message": "OCR client closed", "module": "ocr_client", "function": "close", "line": 839}
{"timestamp": "2025-09-17T13:12:58.392498", "level": "INFO", "logger": "main", "message": "Closing database connections...", "module": "main", "function": "shutdown", "line": 320}
{"timestamp": "2025-09-17T13:12:58.393498", "level": "INFO", "logger": "main", "message": "System shutdown completed", "module": "main", "function": "shutdown", "line": 324}
{"timestamp": "2025-09-17T13:25:36.802805", "level": "INFO", "logger": "main", "message": "=== Market Monitoring System Starting ===", "module": "main", "function": "initialize", "line": 105}
{"timestamp": "2025-09-17T13:25:36.803807", "level": "INFO", "logger": "main", "message": "Configuration loaded from: config.json", "module": "main", "function": "initialize", "line": 106}
{"timestamp": "2025-09-17T13:25:36.803807", "level": "INFO", "logger": "main", "message": "Initializing file utilities...", "module": "main", "function": "initialize", "line": 109}
{"timestamp": "2025-09-17T13:25:36.803807", "level": "INFO", "logger": "main", "message": "Initializing database...", "module": "main", "function": "initialize", "line": 113}
{"timestamp": "2025-09-17T13:25:36.806806", "level": "INFO", "logger": "core.database_manager", "message": "Database schema initialized successfully", "module": "database_manager", "function": "_initialize_database", "line": 236}
{"timestamp": "2025-09-17T13:25:36.806806", "level": "INFO", "logger": "main", "message": "Initializing image processor...", "module": "main", "function": "initialize", "line": 120}
{"timestamp": "2025-09-17T13:25:36.807806", "level": "INFO", "logger": "main", "message": "Initializing OCR client...", "module": "main", "function": "initialize", "line": 123}
{"timestamp": "2025-09-17T13:25:36.807806", "level": "INFO", "logger": "core.ocr_client", "message": "OCR client initialized with api_key auth, ocr format", "module": "ocr_client", "function": "__init__", "line": 77}
{"timestamp": "2025-09-17T13:25:36.808806", "level": "INFO", "logger": "main", "message": "Initializing OCR queue...", "module": "main", "function": "initialize", "line": 126}
{"timestamp": "2025-09-17T13:25:36.808806", "level": "INFO", "logger": "main", "message": "Initializing text parser...", "module": "main", "function": "initialize", "line": 133}
{"timestamp": "2025-09-17T13:25:36.811805", "level": "INFO", "logger": "core.text_parser", "message": "Compiled 10 parsing patterns", "module": "text_parser", "function": "_compile_patterns", "line": 374}
{"timestamp": "2025-09-17T13:25:36.812805", "level": "INFO", "logger": "main", "message": "Initializing monitoring engine...", "module": "main", "function": "initialize", "line": 136}
{"timestamp": "2025-09-17T13:25:36.812805", "level": "INFO", "logger": "main", "message": "Initializing screenshot capture...", "module": "main", "function": "initialize", "line": 140}
{"timestamp": "2025-09-17T13:25:36.812805", "level": "INFO", "logger": "main", "message": "Initializing task scheduler...", "module": "main", "function": "initialize", "line": 149}
{"timestamp": "2025-09-17T13:25:36.815805", "level": "INFO", "logger": "main", "message": "Performing system health checks...", "module": "main", "function": "initialize", "line": 160}
{"timestamp": "2025-09-17T13:25:36.816806", "level": "INFO", "logger": "main", "message": "Checking database connectivity...", "module": "main", "function": "_perform_health_checks", "line": 197}
{"timestamp": "2025-09-17T13:25:36.816806", "level": "INFO", "logger": "main", "message": "Database check passed - status summary: {}", "module": "main", "function": "_perform_health_checks", "line": 200}
{"timestamp": "2025-09-17T13:25:36.816806", "level": "INFO", "logger": "main", "message": "Checking OCR API connectivity...", "module": "main", "function": "_perform_health_checks", "line": 206}
{"timestamp": "2025-09-17T13:25:37.571807", "level": "INFO", "logger": "core.ocr_client", "message": "OCR API connection test successful", "module": "ocr_client", "function": "test_api_connection", "line": 825}
{"timestamp": "2025-09-17T13:25:37.571807", "level": "INFO", "logger": "main", "message": "OCR API check passed", "module": "main", "function": "_perform_health_checks", "line": 209}
{"timestamp": "2025-09-17T13:25:37.572807", "level": "INFO", "logger": "main", "message": "Checking file system permissions...", "module": "main", "function": "_perform_health_checks", "line": 217}
{"timestamp": "2025-09-17T13:25:37.574805", "level": "INFO", "logger": "main", "message": "File system check passed", "module": "main", "function": "_perform_health_checks", "line": 231}
{"timestamp": "2025-09-17T13:25:37.574805", "level": "INFO", "logger": "main", "message": "Checking configuration completeness...", "module": "main", "function": "_perform_health_checks", "line": 238}
{"timestamp": "2025-09-17T13:25:37.574805", "level": "INFO", "logger": "main", "message": "Configuration check passed - 3 enabled hotkeys", "module": "main", "function": "_perform_health_checks", "line": 243}
{"timestamp": "2025-09-17T13:25:37.575805", "level": "INFO", "logger": "main", "message": "System initialization completed successfully", "module": "main", "function": "initialize", "line": 167}
{"timestamp": "2025-09-17T13:25:37.575805", "level": "INFO", "logger": "main", "message": "Starting Market Monitoring System...", "module": "main", "function": "start", "line": 263}
{"timestamp": "2025-09-17T13:25:37.575805", "level": "INFO", "logger": "main", "message": "Starting OCR processing queue...", "module": "main", "function": "start", "line": 266}
{"timestamp": "2025-09-17T13:25:37.576806", "level": "INFO", "logger": "core.ocr_queue", "message": "OCR queue started with 2 workers", "module": "ocr_queue", "function": "start", "line": 137}
{"timestamp": "2025-09-17T13:25:37.577807", "level": "INFO", "logger": "main", "message": "Starting screenshot capture system...", "module": "main", "function": "start", "line": 271}
{"timestamp": "2025-09-17T13:25:37.577807", "level": "ERROR", "logger": "core.screenshot_capture", "message": "Failed to clear hotkey handlers: '_KeyboardListener' object has no attribute 'blocking_hotkeys'", "module": "screenshot_capture", "function": "_clear_hotkey_handlers", "line": 164}
{"timestamp": "2025-09-17T13:25:37.648807", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F1 for Полная обработка товаров (цена, количество)", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:25:37.648807", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F2 for Минимальная обработка связок продавец-товар", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:25:37.649806", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered hotkey F3 for Дополнительная полная обработка товаров", "module": "screenshot_capture", "function": "_register_single_hotkey", "line": 150}
{"timestamp": "2025-09-17T13:25:37.649806", "level": "INFO", "logger": "core.screenshot_capture", "message": "Registered 3 global hotkeys", "module": "screenshot_capture", "function": "register_global_hotkeys", "line": 128}
{"timestamp": "2025-09-17T13:25:37.650806", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot capture system started successfully", "module": "screenshot_capture", "function": "start_monitoring", "line": 394}
{"timestamp": "2025-09-17T13:25:37.650806", "level": "INFO", "logger": "main", "message": "Starting task scheduler...", "module": "main", "function": "start", "line": 277}
{"timestamp": "2025-09-17T13:25:37.651806", "level": "INFO", "logger": "utils.scheduler", "message": "Starting task scheduler", "module": "scheduler", "function": "start_monitoring", "line": 460}
{"timestamp": "2025-09-17T13:25:37.651806", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.651806", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F1 processing every 30s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:25:37.652805", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.652805", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F2 processing every 60s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:25:37.653805", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.653805", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled F3 processing every 45s", "module": "scheduler", "function": "setup_hotkey_timers", "line": 135}
{"timestamp": "2025-09-17T13:25:37.653805", "level": "INFO", "logger": "utils.scheduler", "message": "Setup 3 hotkey processing timers", "module": "scheduler", "function": "setup_hotkey_timers", "line": 139}
{"timestamp": "2025-09-17T13:25:37.654805", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.654805", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled status check cycle every 10s", "module": "scheduler", "function": "setup_status_check_cycle", "line": 320}
{"timestamp": "2025-09-17T13:25:37.655806", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.656807", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Adding job tentatively -- it will be properly scheduled when the scheduler starts", "module": "base", "function": "add_job", "line": 454}
{"timestamp": "2025-09-17T13:25:37.656807", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduled maintenance tasks", "module": "scheduler", "function": "setup_maintenance_tasks", "line": 398}
{"timestamp": "2025-09-17T13:25:37.657807", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F1 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.658806", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F2 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.658806", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Process F3 screenshots\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.658806", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Status check and transition cycle\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.659807", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Daily maintenance cleanup\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.659807", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"Weekly database maintenance\" to job store \"default\"", "module": "base", "function": "_real_add_job", "line": 895}
{"timestamp": "2025-09-17T13:25:37.660805", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Scheduler started", "module": "base", "function": "start", "line": 181}
{"timestamp": "2025-09-17T13:25:37.660805", "level": "INFO", "logger": "utils.scheduler", "message": "Scheduler started with 6 jobs:", "module": "scheduler", "function": "start_monitoring", "line": 473}
{"timestamp": "2025-09-17T13:25:37.661807", "level": "INFO", "logger": "utils.scheduler", "message": "  - Status check and transition cycle (next run: 2025-09-17 13:25:47)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.661807", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F1 screenshots (next run: 2025-09-17 13:26:07)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.662807", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F3 screenshots (next run: 2025-09-17 13:26:22)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.663806", "level": "INFO", "logger": "utils.scheduler", "message": "  - Process F2 screenshots (next run: 2025-09-17 13:26:37)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.663806", "level": "INFO", "logger": "utils.scheduler", "message": "  - Daily maintenance cleanup (next run: 2025-09-18 02:00:00)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.664806", "level": "INFO", "logger": "utils.scheduler", "message": "  - Weekly database maintenance (next run: 2025-09-21 03:00:00)", "module": "scheduler", "function": "start_monitoring", "line": 476}
{"timestamp": "2025-09-17T13:25:37.664806", "level": "INFO", "logger": "main", "message": "System started successfully with configuration: {'config_file': 'config.json', 'last_modified': '2025-09-17T13:25:26.864936', 'hotkeys': {'total': 4, 'enabled': 3, 'disabled': 1}, 'yandex_ocr': {'configured': True, 'api_url': 'https://ocr.api.cloud.yandex.net/ocr/v1/recognizeText'}, 'monitoring': {'check_interval': 10, 'cleanup_days': 30}, 'paths': {'database': 'database\\\\market_data.db', 'logs': 'data\\\\logs'}}", "module": "main", "function": "start", "line": 284}
{"timestamp": "2025-09-17T13:25:37.664806", "level": "INFO", "logger": "main", "message": "Market Monitoring System is running. Press Ctrl+C to stop.", "module": "main", "function": "run_forever", "line": 340}
{"timestamp": "2025-09-17T13:25:47.661954", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:25:57 MSK)\" (scheduled at 2025-09-17 13:25:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:25:47.662955", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:25:47.663955", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:25:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:25:57.660408", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:07 MSK)\" (scheduled at 2025-09-17 13:25:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:25:57.661408", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:25:57.661408", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:07.655508", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:26:37 MSK)\" (scheduled at 2025-09-17 13:26:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:07.655508", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:17 MSK)\" (scheduled at 2025-09-17 13:26:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:07.657509", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:26:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:07.657509", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:07.658508", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:17.667455", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:27 MSK)\" (scheduled at 2025-09-17 13:26:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:17.668456", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:17.668456", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:22.669771", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:27:07 MSK)\" (scheduled at 2025-09-17 13:26:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:22.670772", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:27:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:22.844772", "level": "INFO", "logger": "core.screenshot_capture", "message": "Hotkey F2 pressed - capturing screenshot", "module": "screenshot_capture", "function": "_handle_hotkey_press", "line": 179}
{"timestamp": "2025-09-17T13:26:22.946772", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot captured successfully: F2_20250917_132622_845_1efa910b.png (285x400) in 0.101s", "module": "screenshot_capture", "function": "capture_area", "line": 277}
{"timestamp": "2025-09-17T13:26:27.663004", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:37 MSK)\" (scheduled at 2025-09-17 13:26:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:27.664006", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:27.664006", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:37.660869", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:27:07 MSK)\" (scheduled at 2025-09-17 13:26:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:37.660869", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:27:37 MSK)\" (scheduled at 2025-09-17 13:26:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:37.660869", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:47 MSK)\" (scheduled at 2025-09-17 13:26:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:37.662870", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:27:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:37.662870", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:26:37.663869", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:37.663869", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:37.911868", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_132637_692_8b1d1497.jpg (700x1400) in 0.248s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:26:37.915871", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:26:37.915871", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 2 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:26:37.929869", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758104797_6bb4d4b4 for F2 (session 2)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:26:37.929869", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104797_6bb4d4b4 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:26:37.930868", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:27:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:37.930868", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 9d808b56 for merged_20250917_132637_692_8b1d1497.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:26:37.931870", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:26:38.431868", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 9d808b56: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:38.432869", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:26:38.711868", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 9d808b56: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"d5c729af-b8e2-4d96-91f3-e9488fb4080b\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:38.712868", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:26:38.713869", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104797_6bb4d4b4 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:26:38.713869", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104797_6bb4d4b4 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:26:40.715116", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104797_6bb4d4b4 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:26:40.715116", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ee548949 for merged_20250917_132637_692_8b1d1497.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:26:40.716116", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:26:40.795114", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ee548949: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:40.796114", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:26:40.845116", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ee548949: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"ff7cef32-8ff8-4246-8d10-7494ebf67be2\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:40.846116", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:26:40.847116", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104797_6bb4d4b4 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:26:40.847116", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104797_6bb4d4b4 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:26:44.848431", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104797_6bb4d4b4 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:26:44.848431", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request fd78c6e8 for merged_20250917_132637_692_8b1d1497.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:26:44.849432", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:26:44.941645", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr fd78c6e8: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:44.941645", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:26:44.980220", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision fd78c6e8: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"e13d3381-c1b3-4965-a819-d8d710aed85c\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:26:44.981217", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:26:44.982219", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104797_6bb4d4b4 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:26:44.982219", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758104797_6bb4d4b4)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:26:44.989218", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104797_6bb4d4b4 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:26:47.670267", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:57 MSK)\" (scheduled at 2025-09-17 13:26:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:47.671267", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:47.671267", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:26:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:26:57.666926", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:07 MSK)\" (scheduled at 2025-09-17 13:26:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:26:57.667928", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:26:57.667928", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:07.662112", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:27:37 MSK)\" (scheduled at 2025-09-17 13:27:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:07.662112", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:27:52 MSK)\" (scheduled at 2025-09-17 13:27:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:07.662112", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:17 MSK)\" (scheduled at 2025-09-17 13:27:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:07.664115", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:27:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:07.664115", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:27:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:07.664115", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:07.665112", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:17.662871", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:27 MSK)\" (scheduled at 2025-09-17 13:27:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:17.663872", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:17.663872", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:27.665028", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:37 MSK)\" (scheduled at 2025-09-17 13:27:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:27.666030", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:27.666030", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:37.655614", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:28:07 MSK)\" (scheduled at 2025-09-17 13:27:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:37.655614", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:28:37 MSK)\" (scheduled at 2025-09-17 13:27:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:37.655614", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:47 MSK)\" (scheduled at 2025-09-17 13:27:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:37.656613", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:28:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:37.657615", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:37.657615", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:27:37.657615", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:38.101132", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_132737_677_9f93754b.jpg (700x1400) in 0.444s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:27:38.105133", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:27:38.105133", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 3 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:27:38.106134", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758104858_848cfda4 for F2 (session 3)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:27:38.106134", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104858_848cfda4 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:27:38.106134", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:28:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:38.106134", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 83e5d847 for merged_20250917_132737_677_9f93754b.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:27:38.107134", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:27:38.213134", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 83e5d847: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:38.214135", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:27:38.255133", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 83e5d847: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"0063331e-2246-4573-81ca-d3fcdb300e49\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:38.255133", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:27:38.256133", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104858_848cfda4 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:27:38.256133", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104858_848cfda4 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:27:40.257991", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104858_848cfda4 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:27:40.257991", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 76b3ff49 for merged_20250917_132737_677_9f93754b.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:27:40.258992", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:27:40.341487", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 76b3ff49: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:40.342005", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:27:40.378999", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 76b3ff49: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"e02cdc8c-11b2-4887-a19c-3d1b645be2b1\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:40.379998", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:27:40.380998", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104858_848cfda4 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:27:40.380998", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104858_848cfda4 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:27:44.382828", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104858_848cfda4 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:27:44.382828", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request b96b84a8 for merged_20250917_132737_677_9f93754b.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:27:44.383829", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:27:44.471829", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr b96b84a8: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:44.471829", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:27:44.515828", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision b96b84a8: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"4bb45deb-29a6-49c0-871f-7087f35cb31f\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:27:44.516830", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:27:44.517829", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104858_848cfda4 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:27:44.517829", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758104858_848cfda4)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:27:44.518832", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104858_848cfda4 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:27:47.664007", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:57 MSK)\" (scheduled at 2025-09-17 13:27:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:47.665004", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:47.666004", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:27:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:52.657271", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:28:37 MSK)\" (scheduled at 2025-09-17 13:27:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:52.658272", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:28:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:27:57.659741", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:07 MSK)\" (scheduled at 2025-09-17 13:27:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:27:57.660742", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:27:57.661743", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:07.654530", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:28:37 MSK)\" (scheduled at 2025-09-17 13:28:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:07.655529", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:28:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:07.669527", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:17 MSK)\" (scheduled at 2025-09-17 13:28:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:07.670528", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:07.671528", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:17.668962", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:27 MSK)\" (scheduled at 2025-09-17 13:28:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:17.669962", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:17.669962", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:27.663940", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:37 MSK)\" (scheduled at 2025-09-17 13:28:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:27.664940", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:27.664940", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:37.663786", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:29:07 MSK)\" (scheduled at 2025-09-17 13:28:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:37.663786", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:29:37 MSK)\" (scheduled at 2025-09-17 13:28:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:37.663786", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:29:22 MSK)\" (scheduled at 2025-09-17 13:28:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:37.663786", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:47 MSK)\" (scheduled at 2025-09-17 13:28:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:37.665787", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:29:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:37.666787", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:28:37.666787", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:37.666787", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:29:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:37.667788", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:37.749788", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_132837_692_1ea33a42.jpg (700x1400) in 0.083s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:28:37.753788", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:28:37.753788", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 4 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:28:37.754787", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758104917_11390285 for F2 (session 4)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:28:37.754787", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104917_11390285 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:28:37.754787", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:29:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:37.754787", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 7c3a8d0a for merged_20250917_132837_692_1ea33a42.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:28:37.755788", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:28:37.857305", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 7c3a8d0a: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:37.858305", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:28:37.892305", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 7c3a8d0a: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"caa86ba9-2b19-4885-8c71-2b7f3461a8c5\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:37.893304", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:28:37.894305", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104917_11390285 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:28:37.894305", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104917_11390285 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:28:39.896416", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104917_11390285 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:28:39.896416", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 313445ba for merged_20250917_132837_692_1ea33a42.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:28:39.897416", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:28:39.989417", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 313445ba: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:39.990416", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:28:40.024416", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 313445ba: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"8816a8dd-93a4-4775-a3f8-310614ab3bd8\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:40.025417", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:28:40.025417", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104917_11390285 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:28:40.026418", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104917_11390285 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:28:44.028041", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104917_11390285 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:28:44.028041", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 4c5e49d7 for merged_20250917_132837_692_1ea33a42.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:28:44.029042", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:28:44.269146", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 4c5e49d7: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:44.270146", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:28:44.308709", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 4c5e49d7: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"f087a395-b21b-485f-a14d-da056a1bf536\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:28:44.309711", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:28:44.310709", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104917_11390285 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:28:44.310709", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758104917_11390285)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:28:44.311711", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104917_11390285 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:28:47.669761", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:57 MSK)\" (scheduled at 2025-09-17 13:28:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:47.670761", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:47.670761", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:28:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:28:57.665947", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:07 MSK)\" (scheduled at 2025-09-17 13:28:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:28:57.666999", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:28:57.667525", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:07.652806", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:29:37 MSK)\" (scheduled at 2025-09-17 13:29:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:07.653807", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:29:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:07.668807", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:17 MSK)\" (scheduled at 2025-09-17 13:29:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:07.669807", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:07.670807", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:17.660679", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:27 MSK)\" (scheduled at 2025-09-17 13:29:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:17.661680", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:17.661680", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:22.667596", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:30:07 MSK)\" (scheduled at 2025-09-17 13:29:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:22.668595", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:30:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:27.655624", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:37 MSK)\" (scheduled at 2025-09-17 13:29:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:27.663624", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:27.664624", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:37.661733", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:30:07 MSK)\" (scheduled at 2025-09-17 13:29:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:37.661733", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:30:37 MSK)\" (scheduled at 2025-09-17 13:29:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:37.661733", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:47 MSK)\" (scheduled at 2025-09-17 13:29:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:37.662735", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:30:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:37.663734", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:37.663734", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:29:37.663734", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:37.733734", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_132937_682_4c7a5878.jpg (700x1400) in 0.069s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:29:37.736733", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:29:37.736733", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 5 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:29:37.737733", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758104977_611504c6 for F2 (session 5)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:29:37.737733", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104977_611504c6 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:29:37.737733", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:30:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:37.738734", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 837775f8 for merged_20250917_132937_682_4c7a5878.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:29:37.738734", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:29:37.829734", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 837775f8: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:37.830734", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:29:37.866733", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 837775f8: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"d9f61a3e-977b-4b8c-805a-0dd7b19e67bb\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:37.867735", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:29:37.867735", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104977_611504c6 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:29:37.867735", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104977_611504c6 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:29:39.869902", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104977_611504c6 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:29:39.869902", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 49c17df8 for merged_20250917_132937_682_4c7a5878.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:29:39.870902", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:29:39.959903", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 49c17df8: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:39.960903", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:29:39.995902", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 49c17df8: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"b513a7e1-b64a-4fd0-8c42-b9c1f1cbf856\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:39.996902", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:29:39.996902", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104977_611504c6 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:29:39.997901", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758104977_611504c6 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:29:43.999619", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758104977_611504c6 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:29:43.999619", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 4e570703 for merged_20250917_132937_682_4c7a5878.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:29:44.000619", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:29:44.163619", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 4e570703: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:44.164621", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:29:44.213619", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 4e570703: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"7ca72e13-a1eb-4731-971a-fefd29c57702\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:29:44.214619", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:29:44.214619", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104977_611504c6 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:29:44.215619", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758104977_611504c6)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:29:44.215619", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758104977_611504c6 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:29:47.666014", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:57 MSK)\" (scheduled at 2025-09-17 13:29:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:47.668014", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:47.668014", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:29:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:29:57.660800", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:07 MSK)\" (scheduled at 2025-09-17 13:29:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:29:57.661802", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:29:57.662801", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:00.812644", "level": "WARNING", "logger": "main", "message": "Monitoring engine health issues: ['No items in monitoring queue']", "module": "main", "function": "_periodic_health_check", "line": 367}
{"timestamp": "2025-09-17T13:30:00.812644", "level": "WARNING", "logger": "main", "message": "Periodic health check failed: 'int' object has no attribute 'name'", "module": "main", "function": "_periodic_health_check", "line": 376}
{"timestamp": "2025-09-17T13:30:07.663913", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:30:37 MSK)\" (scheduled at 2025-09-17 13:30:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:07.663913", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:30:52 MSK)\" (scheduled at 2025-09-17 13:30:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:07.663913", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:17 MSK)\" (scheduled at 2025-09-17 13:30:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:07.664914", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:30:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:07.665914", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:30:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:07.665914", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:07.666914", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:17.657056", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:27 MSK)\" (scheduled at 2025-09-17 13:30:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:17.658111", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:17.658643", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:27.661386", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:37 MSK)\" (scheduled at 2025-09-17 13:30:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:27.662387", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:27.662387", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:37.663586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:31:07 MSK)\" (scheduled at 2025-09-17 13:30:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:37.663586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:31:37 MSK)\" (scheduled at 2025-09-17 13:30:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:37.663586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:47 MSK)\" (scheduled at 2025-09-17 13:30:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:37.664586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:31:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:37.665586", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:37.665586", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:30:37.665586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:37.763135", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133037_706_09786aa9.jpg (700x1400) in 0.097s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:30:37.768135", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:30:37.768135", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 6 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:30:37.769136", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105037_f0acebfd for F2 (session 6)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:30:37.769136", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105037_f0acebfd (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:30:37.769136", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:31:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:37.770136", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 686b004a for merged_20250917_133037_706_09786aa9.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:30:37.770136", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:30:37.848719", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 686b004a: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:37.849719", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:30:37.887719", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 686b004a: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"267b562d-9d34-42cc-af6c-b44f0a0fdd81\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:37.888720", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:30:37.888720", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105037_f0acebfd failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:30:37.889720", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105037_f0acebfd for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:30:39.890715", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105037_f0acebfd (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:30:39.891246", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ee416b0e for merged_20250917_133037_706_09786aa9.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:30:39.891787", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:30:39.971678", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ee416b0e: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:39.972678", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:30:40.009679", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ee416b0e: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"1b032602-4923-413f-84a3-900c3cd624a4\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:40.012680", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:30:40.013680", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105037_f0acebfd failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:30:40.014680", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105037_f0acebfd for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:30:44.016284", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105037_f0acebfd (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:30:44.016284", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ce8c8d67 for merged_20250917_133037_706_09786aa9.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:30:44.017285", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:30:44.191285", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ce8c8d67: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:44.192285", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:30:44.241366", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ce8c8d67: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"e646fbca-507b-4acc-82c8-e9584cf55ae6\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:30:44.242366", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:30:44.242366", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105037_f0acebfd failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:30:44.242366", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105037_f0acebfd)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:30:44.251367", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105037_f0acebfd permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:30:47.667573", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:57 MSK)\" (scheduled at 2025-09-17 13:30:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:47.668573", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:47.668573", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:30:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:52.667323", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:31:37 MSK)\" (scheduled at 2025-09-17 13:30:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:52.668323", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:31:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:30:57.655703", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:07 MSK)\" (scheduled at 2025-09-17 13:30:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:30:57.656703", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:30:57.656703", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:07.664721", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:31:37 MSK)\" (scheduled at 2025-09-17 13:31:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:07.664721", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:17 MSK)\" (scheduled at 2025-09-17 13:31:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:07.665721", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:31:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:07.665721", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:07.666722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:17.667710", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:27 MSK)\" (scheduled at 2025-09-17 13:31:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:17.668711", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:17.668711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:27.664936", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:37 MSK)\" (scheduled at 2025-09-17 13:31:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:27.665936", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:27.666936", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:37.663722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:32:07 MSK)\" (scheduled at 2025-09-17 13:31:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:37.663722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:32:37 MSK)\" (scheduled at 2025-09-17 13:31:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:37.663722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:32:22 MSK)\" (scheduled at 2025-09-17 13:31:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:37.663722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:47 MSK)\" (scheduled at 2025-09-17 13:31:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:37.665723", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:32:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:37.666722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:32:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:37.666722", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:37.666722", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:31:37.666722", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:37.742723", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133137_688_4d5352dd.jpg (700x1400) in 0.075s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:31:37.746722", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:31:37.747725", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 7 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:31:37.747725", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105097_0135371c for F2 (session 7)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:31:37.747725", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105097_0135371c (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:31:37.748723", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:32:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:37.748723", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 27853334 for merged_20250917_133137_688_4d5352dd.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:31:37.749724", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:31:37.838723", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 27853334: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:37.839723", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:31:37.875728", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 27853334: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"16ddca74-89bd-4e5f-a713-42fa872ae407\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:37.876729", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:31:37.876729", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105097_0135371c failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:31:37.877727", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105097_0135371c for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:31:39.878721", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105097_0135371c (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:31:39.878721", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 96e0cc9d for merged_20250917_133137_688_4d5352dd.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:31:39.879721", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:31:39.945723", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 96e0cc9d: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:39.946721", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:31:39.984718", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 96e0cc9d: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"4fad82e3-9492-435c-b313-a31399986d6e\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:39.985717", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:31:39.985717", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105097_0135371c failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:31:39.985717", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105097_0135371c for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:31:43.987346", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105097_0135371c (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:31:43.987346", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 42eb0f7a for merged_20250917_133137_688_4d5352dd.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:31:43.988346", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:31:44.110346", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 42eb0f7a: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:44.111346", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:31:44.201345", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 42eb0f7a: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"b500575b-c833-4c0c-947b-6c7a4e3043d0\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:31:44.202345", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:31:44.202345", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105097_0135371c failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:31:44.203346", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105097_0135371c)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:31:44.203346", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105097_0135371c permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:31:47.663494", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:57 MSK)\" (scheduled at 2025-09-17 13:31:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:47.664495", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:47.664495", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:31:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:31:57.658926", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:07 MSK)\" (scheduled at 2025-09-17 13:31:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:31:57.659928", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:31:57.659928", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:07.664711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:32:37 MSK)\" (scheduled at 2025-09-17 13:32:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:07.664711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:17 MSK)\" (scheduled at 2025-09-17 13:32:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:07.665709", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:07.665709", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:32:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:07.666710", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:17.659354", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:27 MSK)\" (scheduled at 2025-09-17 13:32:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:17.660354", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:17.660354", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:22.662104", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:33:07 MSK)\" (scheduled at 2025-09-17 13:32:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:22.663105", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:33:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:27.670440", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:37 MSK)\" (scheduled at 2025-09-17 13:32:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:27.671441", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:27.671441", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:37.654104", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:33:07 MSK)\" (scheduled at 2025-09-17 13:32:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:37.654104", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:33:37 MSK)\" (scheduled at 2025-09-17 13:32:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:37.655104", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:33:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:37.656103", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:32:37.670103", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:47 MSK)\" (scheduled at 2025-09-17 13:32:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:37.671104", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:37.671104", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:37.736104", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133237_676_f5d46850.jpg (700x1400) in 0.080s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:32:37.740104", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:32:37.740104", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 8 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:32:37.741105", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105157_01c0dcb2 for F2 (session 8)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:32:37.741105", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105157_01c0dcb2 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:32:37.741105", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:33:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:37.742102", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ee112e6f for merged_20250917_133237_676_f5d46850.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:32:37.742102", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:32:37.840103", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ee112e6f: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:37.841103", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:32:37.879103", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ee112e6f: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"bce208fe-b4f8-40ae-a190-2a136a91b91c\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:37.880106", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:32:37.881103", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105157_01c0dcb2 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:32:37.881103", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105157_01c0dcb2 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:32:39.882921", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105157_01c0dcb2 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:32:39.882921", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 5b2cefa1 for merged_20250917_133237_676_f5d46850.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:32:39.883922", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:32:39.964922", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 5b2cefa1: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:39.964922", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:32:39.998920", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 5b2cefa1: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"717ff93f-51f3-481a-a490-ea6b4171cc5b\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:39.999921", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:32:40.000921", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105157_01c0dcb2 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:32:40.000921", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105157_01c0dcb2 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:32:44.002264", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105157_01c0dcb2 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:32:44.003264", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 69918c90 for merged_20250917_133237_676_f5d46850.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:32:44.003264", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:32:44.218264", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 69918c90: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:44.218264", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:32:44.265263", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 69918c90: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"144af307-9043-4534-b186-0404b4ae5702\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:32:44.266264", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:32:44.266264", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105157_01c0dcb2 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:32:44.267264", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105157_01c0dcb2)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:32:44.267264", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105157_01c0dcb2 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:32:47.666914", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:57 MSK)\" (scheduled at 2025-09-17 13:32:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:47.667914", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:47.667914", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:32:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:32:57.660401", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:07 MSK)\" (scheduled at 2025-09-17 13:32:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:32:57.661402", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:32:57.661402", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:07.662646", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:33:37 MSK)\" (scheduled at 2025-09-17 13:33:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:07.662646", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:33:52 MSK)\" (scheduled at 2025-09-17 13:33:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:07.662646", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:17 MSK)\" (scheduled at 2025-09-17 13:33:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:07.664646", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:33:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:07.664646", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:33:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:07.664646", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:07.665647", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:17.655814", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:27 MSK)\" (scheduled at 2025-09-17 13:33:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:17.656814", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:17.656814", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:27.662396", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:37 MSK)\" (scheduled at 2025-09-17 13:33:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:27.663397", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:27.663397", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:37.654708", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:34:07 MSK)\" (scheduled at 2025-09-17 13:33:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:37.654708", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:34:37 MSK)\" (scheduled at 2025-09-17 13:33:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:37.655709", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:34:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:37.656710", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:33:37.670708", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:47 MSK)\" (scheduled at 2025-09-17 13:33:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:37.671708", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:37.671708", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:37.734709", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133337_677_a423a0e8.jpg (700x1400) in 0.078s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:33:37.738708", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:33:37.738708", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 9 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:33:37.739708", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105217_1e4928e1 for F2 (session 9)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:33:37.739708", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105217_1e4928e1 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:33:37.739708", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:34:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:37.740708", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 2110cfa9 for merged_20250917_133337_677_a423a0e8.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:33:37.740708", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:33:37.825708", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 2110cfa9: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:37.826708", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:33:37.863709", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 2110cfa9: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"08d409c8-b5a9-401f-831a-49c936879211\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:37.864709", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:33:37.864709", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105217_1e4928e1 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:33:37.865708", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105217_1e4928e1 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:33:39.867356", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105217_1e4928e1 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:33:39.868357", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 194ca849 for merged_20250917_133337_677_a423a0e8.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:33:39.868357", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:33:39.934357", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 194ca849: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:39.935357", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:33:39.971357", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 194ca849: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"b92e3266-e354-43c1-96e3-28951552cec0\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:39.972357", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:33:39.973356", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105217_1e4928e1 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:33:39.973356", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105217_1e4928e1 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:33:43.975587", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105217_1e4928e1 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:33:43.975587", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 00fbbf52 for merged_20250917_133337_677_a423a0e8.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:33:43.976586", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:33:44.151585", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 00fbbf52: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:44.151585", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:33:44.225586", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 00fbbf52: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"89c1f314-9cc4-49fe-b0c0-1f4e0f43e8a5\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:33:44.226587", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:33:44.226587", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105217_1e4928e1 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:33:44.227587", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105217_1e4928e1)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:33:44.227587", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105217_1e4928e1 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:33:47.666852", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:57 MSK)\" (scheduled at 2025-09-17 13:33:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:47.667852", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:47.667852", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:33:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:52.658286", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:34:37 MSK)\" (scheduled at 2025-09-17 13:33:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:52.659286", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:34:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:33:57.658435", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:07 MSK)\" (scheduled at 2025-09-17 13:33:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:33:57.659436", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:33:57.659436", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:07.654829", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:34:37 MSK)\" (scheduled at 2025-09-17 13:34:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:07.654829", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:17 MSK)\" (scheduled at 2025-09-17 13:34:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:07.655831", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:34:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:07.655831", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:07.656831", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:17.668430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:27 MSK)\" (scheduled at 2025-09-17 13:34:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:17.669430", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:17.669430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:27.655620", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:37 MSK)\" (scheduled at 2025-09-17 13:34:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:27.656621", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:27.656621", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:37.666310", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:35:07 MSK)\" (scheduled at 2025-09-17 13:34:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:37.666310", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:35:37 MSK)\" (scheduled at 2025-09-17 13:34:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:37.666310", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:35:22 MSK)\" (scheduled at 2025-09-17 13:34:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:37.666310", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:47 MSK)\" (scheduled at 2025-09-17 13:34:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:37.668385", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:35:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:37.668385", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:34:37.668385", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:35:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:37.668385", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:37.669385", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:37.744950", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133437_690_cc01123d.jpg (700x1400) in 0.076s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:34:37.748950", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:34:37.749949", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 10 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:34:37.750950", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105277_e9d4ed86 for F2 (session 10)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:34:37.750950", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105277_e9d4ed86 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:34:37.750950", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:35:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:37.750950", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request b70920c3 for merged_20250917_133437_690_cc01123d.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:34:37.751949", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:34:37.827949", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr b70920c3: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:37.827949", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:34:37.871515", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision b70920c3: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"b1e91a3e-5ba1-4bf4-97e1-b677a566769c\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:37.872516", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:34:37.872516", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105277_e9d4ed86 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:34:37.872516", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105277_e9d4ed86 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:34:39.874158", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105277_e9d4ed86 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:34:39.874844", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 2e33fdb9 for merged_20250917_133437_690_cc01123d.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:34:39.874844", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:34:39.942410", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 2e33fdb9: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:39.943409", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:34:39.985422", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 2e33fdb9: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"e915249a-8d8f-4b37-bacc-8fc195ef0eaa\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:39.986426", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:34:39.987423", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105277_e9d4ed86 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:34:39.987423", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105277_e9d4ed86 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:34:43.988273", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105277_e9d4ed86 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:34:43.988273", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request eb6ff400 for merged_20250917_133437_690_cc01123d.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:34:43.989273", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:34:44.105273", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr eb6ff400: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:44.105273", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:34:44.179990", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision eb6ff400: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"407e8a46-a13b-4935-a252-67b92a79814a\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:34:44.180990", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:34:44.180990", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105277_e9d4ed86 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:34:44.181989", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105277_e9d4ed86)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:34:44.181989", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105277_e9d4ed86 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:34:47.656756", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:57 MSK)\" (scheduled at 2025-09-17 13:34:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:47.657757", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:47.657757", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:34:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:34:57.662431", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:07 MSK)\" (scheduled at 2025-09-17 13:34:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:34:57.663432", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:34:57.663432", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:00.964184", "level": "WARNING", "logger": "main", "message": "Monitoring engine health issues: ['No items in monitoring queue']", "module": "main", "function": "_periodic_health_check", "line": 367}
{"timestamp": "2025-09-17T13:35:00.964184", "level": "WARNING", "logger": "main", "message": "Periodic health check failed: 'int' object has no attribute 'name'", "module": "main", "function": "_periodic_health_check", "line": 376}
{"timestamp": "2025-09-17T13:35:07.653086", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:35:37 MSK)\" (scheduled at 2025-09-17 13:35:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:07.654087", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:35:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:07.668208", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:17 MSK)\" (scheduled at 2025-09-17 13:35:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:07.669252", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:07.669776", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:17.666381", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:27 MSK)\" (scheduled at 2025-09-17 13:35:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:17.667379", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:17.667379", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:22.654598", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:36:07 MSK)\" (scheduled at 2025-09-17 13:35:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:22.655600", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:36:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:27.663043", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:37 MSK)\" (scheduled at 2025-09-17 13:35:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:27.664044", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:27.664044", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:37.657132", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:36:07 MSK)\" (scheduled at 2025-09-17 13:35:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:37.657132", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:36:37 MSK)\" (scheduled at 2025-09-17 13:35:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:37.657132", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:47 MSK)\" (scheduled at 2025-09-17 13:35:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:37.658133", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:36:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:37.659131", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:37.659131", "level": "INFO", "logger": "core.image_processor", "message": "Processing 3 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:35:37.659131", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:37.734144", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133537_682_cc63a6a4.jpg (700x1400) in 0.074s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:35:37.738143", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 3 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:35:37.739145", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 11 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:35:37.740144", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105337_b405a46d for F2 (session 11)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:35:37.740144", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105337_b405a46d (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:35:37.740144", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:36:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:37.740144", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 76d8ebb3 for merged_20250917_133537_682_cc63a6a4.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:35:37.741142", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:35:37.821144", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 76d8ebb3: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:37.822142", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:35:37.864035", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 76d8ebb3: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"36808f3c-7584-496d-9d10-ede86c649869\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:37.865035", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:35:37.866035", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105337_b405a46d failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:35:37.866035", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105337_b405a46d for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:35:39.867949", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105337_b405a46d (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:35:39.867949", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 3f2c2b1c for merged_20250917_133537_682_cc63a6a4.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:35:39.868949", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:35:39.941940", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 3f2c2b1c: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:39.941940", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:35:39.985940", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 3f2c2b1c: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"be07cb9c-12f6-498e-a4cd-052aea99465e\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:39.986939", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:35:39.986939", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105337_b405a46d failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:35:39.987940", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105337_b405a46d for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:35:43.988577", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105337_b405a46d (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:35:43.988577", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request e4867d46 for merged_20250917_133537_682_cc63a6a4.jpg (0.1MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:35:43.989577", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:35:44.086574", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr e4867d46: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:44.087574", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:35:44.195574", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision e4867d46: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"ede6a12b-8430-4b9d-821f-305f41d4d73b\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:35:44.196576", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:35:44.196576", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105337_b405a46d failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:35:44.196576", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105337_b405a46d)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:35:44.197575", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105337_b405a46d permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:35:47.657445", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:57 MSK)\" (scheduled at 2025-09-17 13:35:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:47.658445", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:47.658445", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:35:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:35:57.669473", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:07 MSK)\" (scheduled at 2025-09-17 13:35:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:35:57.670478", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:35:57.671472", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:07.662684", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:36:37 MSK)\" (scheduled at 2025-09-17 13:36:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:07.662684", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:36:52 MSK)\" (scheduled at 2025-09-17 13:36:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:07.662684", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:17 MSK)\" (scheduled at 2025-09-17 13:36:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:07.663685", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:36:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:07.679687", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:36:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:07.679687", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:07.680685", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:17.665345", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:27 MSK)\" (scheduled at 2025-09-17 13:36:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:17.666345", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:17.666345", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:27.662791", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:37 MSK)\" (scheduled at 2025-09-17 13:36:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:27.663791", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:27.663791", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:31.973384", "level": "INFO", "logger": "core.screenshot_capture", "message": "Hotkey F2 pressed - capturing screenshot", "module": "screenshot_capture", "function": "_handle_hotkey_press", "line": 179}
{"timestamp": "2025-09-17T13:36:32.260954", "level": "INFO", "logger": "core.screenshot_capture", "message": "Screenshot captured successfully: F2_20250917_133631_974_1b34df92.png (285x400) in 0.287s", "module": "screenshot_capture", "function": "capture_area", "line": 277}
{"timestamp": "2025-09-17T13:36:37.666430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:37:07 MSK)\" (scheduled at 2025-09-17 13:36:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:37.666430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:37:37 MSK)\" (scheduled at 2025-09-17 13:36:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:37.666430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:47 MSK)\" (scheduled at 2025-09-17 13:36:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:37.667430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:37:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:37.668430", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:37.668430", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:36:37.668430", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:37.758432", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133637_694_92e34415.jpg (700x1800) in 0.088s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:36:37.763431", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:36:37.763431", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 12 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:36:37.764431", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105397_dd521ed6 for F2 (session 12)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:36:37.764431", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105397_dd521ed6 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:36:37.764431", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:37:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:37.765431", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ca6224e5 for merged_20250917_133637_694_92e34415.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:36:37.765431", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:36:37.872430", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ca6224e5: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:37.873430", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:36:37.956431", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ca6224e5: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"2ca52cc6-1082-49c3-b354-34565be0166e\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:37.957430", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:36:37.958431", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105397_dd521ed6 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:36:37.958431", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105397_dd521ed6 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:36:39.959866", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105397_dd521ed6 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:36:39.959866", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request b9ad6594 for merged_20250917_133637_694_92e34415.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:36:39.960865", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:36:40.045866", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr b9ad6594: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:40.046866", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:36:40.124008", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision b9ad6594: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"25128381-0bc6-42a5-aca4-63e42475b121\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:40.125008", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:36:40.126008", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105397_dd521ed6 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:36:40.126008", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105397_dd521ed6 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:36:44.127220", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105397_dd521ed6 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:36:44.127220", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request aaffb45a for merged_20250917_133637_694_92e34415.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:36:44.128220", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:36:44.590380", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr aaffb45a: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:44.590380", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:36:44.670379", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision aaffb45a: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"a2d76b3d-71b1-43b7-ac69-51f6522be57c\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:36:44.671379", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:36:44.671379", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105397_dd521ed6 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:36:44.672379", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105397_dd521ed6)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:36:44.672379", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105397_dd521ed6 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:36:47.659287", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:57 MSK)\" (scheduled at 2025-09-17 13:36:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:47.660287", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:47.660287", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:36:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:52.655231", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:37:37 MSK)\" (scheduled at 2025-09-17 13:36:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:52.656232", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:37:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:36:57.661988", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:07 MSK)\" (scheduled at 2025-09-17 13:36:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:36:57.662987", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:36:57.662987", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:07.659396", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:37:37 MSK)\" (scheduled at 2025-09-17 13:37:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:07.659396", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:17 MSK)\" (scheduled at 2025-09-17 13:37:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:07.660396", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:37:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:07.660396", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:07.661397", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:17.657411", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:27 MSK)\" (scheduled at 2025-09-17 13:37:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:17.658410", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:17.658410", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:27.663581", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:37 MSK)\" (scheduled at 2025-09-17 13:37:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:27.664583", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:27.664583", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:37.666033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:38:07 MSK)\" (scheduled at 2025-09-17 13:37:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:37.666033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:38:37 MSK)\" (scheduled at 2025-09-17 13:37:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:37.666033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:38:22 MSK)\" (scheduled at 2025-09-17 13:37:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:37.666033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:47 MSK)\" (scheduled at 2025-09-17 13:37:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:37.668032", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:38:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:37.668032", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:38:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:37.668032", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:37.668032", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:37:37.669033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:37.775032", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133737_696_3821e9cd.jpg (700x1800) in 0.106s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:37:37.780033", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:37:37.780033", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 13 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:37:37.781033", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105457_323642cf for F2 (session 13)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:37:37.781033", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105457_323642cf (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:37:37.781033", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:38:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:37.782032", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 55afa728 for merged_20250917_133737_696_3821e9cd.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:37:37.782032", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:37:37.879031", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 55afa728: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:37.880033", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:37:37.986070", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 55afa728: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"dbbc3fe5-d4e3-46f1-9336-59dd46d37d29\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:37.986070", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:37:37.987073", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105457_323642cf failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:37:37.987073", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105457_323642cf for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:37:39.988372", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105457_323642cf (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:37:39.988372", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 6ee2a3a4 for merged_20250917_133737_696_3821e9cd.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:37:39.989372", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:37:40.085372", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 6ee2a3a4: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:40.085372", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:37:40.168372", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 6ee2a3a4: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"bb0f2344-1b37-4eb8-8f40-4a70bce23fb1\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:40.169372", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:37:40.169372", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105457_323642cf failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:37:40.170373", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105457_323642cf for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:37:44.171356", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105457_323642cf (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:37:44.171356", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 4e43c2ac for merged_20250917_133737_696_3821e9cd.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:37:44.172356", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:37:44.309934", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 4e43c2ac: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:44.310935", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:37:44.425935", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 4e43c2ac: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"c0bb85bc-0460-4759-8905-c8f960b2ab87\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:37:44.426934", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:37:44.427934", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105457_323642cf failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:37:44.427934", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105457_323642cf)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:37:44.428934", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105457_323642cf permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:37:47.655067", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:57 MSK)\" (scheduled at 2025-09-17 13:37:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:47.656066", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:47.656066", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:37:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:37:57.663749", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:07 MSK)\" (scheduled at 2025-09-17 13:37:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:37:57.664750", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:37:57.664750", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:07.653770", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:38:37 MSK)\" (scheduled at 2025-09-17 13:38:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:07.654769", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:38:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:07.669770", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:17 MSK)\" (scheduled at 2025-09-17 13:38:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:07.670771", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:07.671770", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:17.669090", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:27 MSK)\" (scheduled at 2025-09-17 13:38:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:17.670090", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:17.670090", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:22.668757", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:39:07 MSK)\" (scheduled at 2025-09-17 13:38:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:22.669759", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:39:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:27.664453", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:37 MSK)\" (scheduled at 2025-09-17 13:38:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:27.665454", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:27.665454", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:37.660881", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:39:07 MSK)\" (scheduled at 2025-09-17 13:38:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:37.660881", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:39:37 MSK)\" (scheduled at 2025-09-17 13:38:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:37.660881", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:47 MSK)\" (scheduled at 2025-09-17 13:38:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:37.661881", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:39:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:37.662880", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:37.662880", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:38:37.662880", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:37.756882", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133837_690_6ce204c7.jpg (700x1800) in 0.093s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:38:37.761882", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:38:37.761882", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 14 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:38:37.762882", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105517_20fea532 for F2 (session 14)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:38:37.762882", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105517_20fea532 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:38:37.763883", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:39:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:37.763883", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 68a2d097 for merged_20250917_133837_690_6ce204c7.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:38:37.764881", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:38:37.887880", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 68a2d097: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:37.888880", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:38:37.959882", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 68a2d097: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"6fad078a-a857-4a1a-9f89-52abcf15b568\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:37.960880", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:38:37.960880", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105517_20fea532 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:38:37.961880", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105517_20fea532 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:38:39.963322", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105517_20fea532 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:38:39.963322", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 9e673673 for merged_20250917_133837_690_6ce204c7.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:38:39.964322", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:38:40.060322", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 9e673673: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:40.061322", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:38:40.143322", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 9e673673: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"8abeb033-da63-45e7-8ded-6444535e18f8\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:40.144323", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:38:40.144323", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105517_20fea532 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:38:40.145322", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105517_20fea532 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:38:44.146151", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105517_20fea532 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:38:44.146151", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 0d06c0af for merged_20250917_133837_690_6ce204c7.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:38:44.147151", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:38:44.259149", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 0d06c0af: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:44.260149", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:38:44.374705", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 0d06c0af: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"d0680263-bf8c-47a4-8688-aa11b957ca31\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:38:44.375705", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:38:44.376706", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105517_20fea532 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:38:44.376706", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105517_20fea532)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:38:44.377705", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105517_20fea532 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:38:47.655605", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:57 MSK)\" (scheduled at 2025-09-17 13:38:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:47.656606", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:47.656606", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:38:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:38:57.658288", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:07 MSK)\" (scheduled at 2025-09-17 13:38:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:38:57.659288", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:38:57.659288", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:07.664066", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:39:37 MSK)\" (scheduled at 2025-09-17 13:39:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:07.664066", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:39:52 MSK)\" (scheduled at 2025-09-17 13:39:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:07.664066", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:17 MSK)\" (scheduled at 2025-09-17 13:39:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:07.666067", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:39:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:07.666067", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:07.666067", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:39:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:07.667066", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:17.668464", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:27 MSK)\" (scheduled at 2025-09-17 13:39:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:17.669466", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:17.669466", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:27.660007", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:37 MSK)\" (scheduled at 2025-09-17 13:39:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:27.661007", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:27.661007", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:37.652318", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:40:07 MSK)\" (scheduled at 2025-09-17 13:39:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:37.653318", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:40:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:37.668318", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:40:37 MSK)\" (scheduled at 2025-09-17 13:39:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:37.668318", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:47 MSK)\" (scheduled at 2025-09-17 13:39:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:37.669319", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:37.670318", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:39:37.670318", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:37.969202", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_133937_885_245d2b1c.jpg (700x1800) in 0.299s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:39:37.974200", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:39:37.975203", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 15 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:39:37.976200", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105577_5f00bb4d for F2 (session 15)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:39:37.976200", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105577_5f00bb4d (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:39:37.976200", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:40:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:37.977200", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 745b421c for merged_20250917_133937_885_245d2b1c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:39:37.977200", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:39:38.806595", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 745b421c: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:38.806595", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:39:39.623138", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 745b421c: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"b1304e66-a4cb-4b9e-b0ae-efb98e5183fd\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:39.623664", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:39:39.624714", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105577_5f00bb4d failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:39:39.624714", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105577_5f00bb4d for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:39:41.625958", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105577_5f00bb4d (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:39:41.626481", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 73adff72 for merged_20250917_133937_885_245d2b1c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:39:41.705570", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:39:41.845716", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 73adff72: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:41.846766", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:39:42.008049", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 73adff72: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"bd7e1b28-e142-48de-b935-46e50f93993a\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:42.008569", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:39:42.008569", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105577_5f00bb4d failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:39:42.009567", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105577_5f00bb4d for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:39:46.011413", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-2 processing job ocr_F2_1758105577_5f00bb4d (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:39:46.011413", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request abd28407 for merged_20250917_133937_885_245d2b1c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:39:46.012415", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:39:46.111799", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr abd28407: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:46.112800", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:39:46.208846", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision abd28407: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"5af9205a-cbe9-4a21-9ca2-8f5b55fbb8a6\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:39:46.209885", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:39:46.210407", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105577_5f00bb4d failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:39:46.210925", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105577_5f00bb4d)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:39:46.211445", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105577_5f00bb4d permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:39:47.667827", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:57 MSK)\" (scheduled at 2025-09-17 13:39:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:47.668828", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:47.668828", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:39:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:52.665900", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:40:37 MSK)\" (scheduled at 2025-09-17 13:39:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:52.666902", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:40:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:39:57.659196", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:07 MSK)\" (scheduled at 2025-09-17 13:39:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:39:57.659711", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:39:57.660710", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:00.116071", "level": "WARNING", "logger": "main", "message": "Monitoring engine health issues: ['No items in monitoring queue']", "module": "main", "function": "_periodic_health_check", "line": 367}
{"timestamp": "2025-09-17T13:40:00.116071", "level": "WARNING", "logger": "main", "message": "Periodic health check failed: 'int' object has no attribute 'name'", "module": "main", "function": "_periodic_health_check", "line": 376}
{"timestamp": "2025-09-17T13:40:07.663177", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:40:37 MSK)\" (scheduled at 2025-09-17 13:40:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:07.663177", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:17 MSK)\" (scheduled at 2025-09-17 13:40:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:07.664178", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:07.664178", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:40:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:07.665178", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:17.663524", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:27 MSK)\" (scheduled at 2025-09-17 13:40:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:17.664524", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:17.664524", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:27.670879", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:37 MSK)\" (scheduled at 2025-09-17 13:40:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:27.671880", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:27.671880", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:37.653711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:41:07 MSK)\" (scheduled at 2025-09-17 13:40:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:37.653711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:41:37 MSK)\" (scheduled at 2025-09-17 13:40:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:37.654710", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:41:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:37.655710", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:40:37.668712", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:41:22 MSK)\" (scheduled at 2025-09-17 13:40:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:37.668712", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:47 MSK)\" (scheduled at 2025-09-17 13:40:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:37.669712", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:37.670711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:41:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:37.670711", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:37.747526", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_134037_682_25f5ad5c.jpg (700x1800) in 0.091s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:40:37.752526", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:40:37.753526", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 16 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:40:37.753526", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105637_76669139 for F2 (session 16)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:40:37.753526", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105637_76669139 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:40:37.754527", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:41:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:37.754527", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request caca1044 for merged_20250917_134037_682_25f5ad5c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:40:37.755525", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:40:37.874645", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr caca1044: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:37.875172", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:40:37.982992", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision caca1044: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"be0ef911-dadb-45f6-9ac3-740d2ae54733\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:37.984491", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:40:37.985021", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105637_76669139 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:40:37.985021", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105637_76669139 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:40:39.986272", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105637_76669139 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:40:39.986790", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 0fd88aad for merged_20250917_134037_682_25f5ad5c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:40:39.987344", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:40:40.088104", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 0fd88aad: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:40.088613", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:40:40.187489", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 0fd88aad: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"7403ec62-9bfd-4bbc-ad1d-cf3fa057c7b3\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:40.188011", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:40:40.188642", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105637_76669139 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:40:40.189170", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105637_76669139 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:40:44.190748", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105637_76669139 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:40:44.191748", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 5cada534 for merged_20250917_134037_682_25f5ad5c.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:40:44.191748", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:40:44.320794", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 5cada534: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:44.321304", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:40:44.478275", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 5cada534: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"863abd6a-abdc-4de1-8cc4-5be8287d786b\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:40:44.478801", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:40:44.479327", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105637_76669139 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:40:44.479854", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105637_76669139)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:40:44.480386", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105637_76669139 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:40:47.665699", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:57 MSK)\" (scheduled at 2025-09-17 13:40:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:47.666699", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:47.666699", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:40:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:40:57.665620", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:07 MSK)\" (scheduled at 2025-09-17 13:40:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:40:57.666839", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:40:57.667375", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:07.661198", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:41:37 MSK)\" (scheduled at 2025-09-17 13:41:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:07.661198", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:17 MSK)\" (scheduled at 2025-09-17 13:41:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:07.662198", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:41:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:07.662198", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:07.663198", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:17.656947", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:27 MSK)\" (scheduled at 2025-09-17 13:41:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:17.657946", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:17.657946", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:22.657215", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:42:07 MSK)\" (scheduled at 2025-09-17 13:41:22.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:22.658210", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:42:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:27.659269", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:37 MSK)\" (scheduled at 2025-09-17 13:41:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:27.660268", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:27.660268", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:37.663485", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:42:07 MSK)\" (scheduled at 2025-09-17 13:41:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:37.663485", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:42:37 MSK)\" (scheduled at 2025-09-17 13:41:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:37.663485", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:47 MSK)\" (scheduled at 2025-09-17 13:41:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:37.664486", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:42:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:37.665486", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:37.665486", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:41:37.665486", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:37.754546", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_134137_691_9fe670a0.jpg (700x1800) in 0.088s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:41:37.759546", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:41:37.760547", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 17 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:41:37.760547", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105697_0ae91c27 for F2 (session 17)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:41:37.760547", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105697_0ae91c27 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:41:37.761545", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:42:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:37.761545", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request d06351e9 for merged_20250917_134137_691_9fe670a0.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:41:37.762547", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:41:37.869473", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr d06351e9: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:37.870519", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:41:37.968045", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision d06351e9: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"70d4bf7b-6438-4d47-9713-58ec8808d4e0\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:37.969085", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:41:37.969604", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105697_0ae91c27 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:41:37.969604", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105697_0ae91c27 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:41:39.971213", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105697_0ae91c27 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:41:39.971213", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 35e20b19 for merged_20250917_134137_691_9fe670a0.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:41:39.972212", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:41:40.068876", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 35e20b19: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:40.069395", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:41:40.174086", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 35e20b19: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"78c7795a-78df-4c42-a201-c0bee0483c91\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:40.175139", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:41:40.175139", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105697_0ae91c27 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:41:40.175661", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105697_0ae91c27 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:41:44.177265", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105697_0ae91c27 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:41:44.177265", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request ea676b1e for merged_20250917_134137_691_9fe670a0.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:41:44.178265", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:41:44.284327", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr ea676b1e: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:44.284327", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:41:44.389319", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision ea676b1e: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"04b67325-321b-4cf7-b8fe-a1f75da00c10\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:41:44.390363", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:41:44.390883", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105697_0ae91c27 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:41:44.391400", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105697_0ae91c27)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:41:44.391922", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105697_0ae91c27 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:41:47.659237", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:57 MSK)\" (scheduled at 2025-09-17 13:41:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:47.660237", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:47.660237", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:41:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:41:57.660714", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:07 MSK)\" (scheduled at 2025-09-17 13:41:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:41:57.661715", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:41:57.661715", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:07.652793", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:42:37 MSK)\" (scheduled at 2025-09-17 13:42:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:07.653794", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:42:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:07.668794", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:42:52 MSK)\" (scheduled at 2025-09-17 13:42:07.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:07.668794", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:17 MSK)\" (scheduled at 2025-09-17 13:42:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:07.669793", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:42:52 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:07.669793", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:07.670794", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:17.662271", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:27 MSK)\" (scheduled at 2025-09-17 13:42:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:17.663271", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:17.663271", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:27.659547", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:37 MSK)\" (scheduled at 2025-09-17 13:42:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:27.660547", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:27.661547", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:37.665049", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:43:07 MSK)\" (scheduled at 2025-09-17 13:42:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:37.665049", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:43:37 MSK)\" (scheduled at 2025-09-17 13:42:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:37.665049", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:47 MSK)\" (scheduled at 2025-09-17 13:42:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:37.666047", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:43:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:37.667049", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:37.667049", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:42:37.667049", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:37.772935", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_134237_697_2338b6c4.jpg (700x1800) in 0.105s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:42:37.777937", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:42:37.777937", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 18 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:42:37.778936", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105757_69637af1 for F2 (session 18)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:42:37.778936", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105757_69637af1 (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:42:37.779938", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:43:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:37.779938", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 43bde323 for merged_20250917_134237_697_2338b6c4.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:42:37.780936", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:42:37.888465", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 43bde323: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:37.889513", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:42:37.990812", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 43bde323: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"767ecb5f-e12e-4667-8100-9eef54227237\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:37.991857", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:42:37.992376", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105757_69637af1 failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:42:37.992376", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105757_69637af1 for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:42:39.993542", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105757_69637af1 (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:42:39.993542", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 2f690e25 for merged_20250917_134237_697_2338b6c4.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:42:39.994537", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:42:40.091693", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 2f690e25: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:40.092735", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:42:40.194020", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 2f690e25: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"114b62f9-d897-40df-8209-f4852e1a74c6\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:40.195075", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:42:40.195599", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105757_69637af1 failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:42:40.196114", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105757_69637af1 for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:42:44.196720", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105757_69637af1 (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:42:44.197256", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 7791317b for merged_20250917_134237_697_2338b6c4.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:42:44.197777", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:42:44.296773", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 7791317b: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:44.297771", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:42:44.405066", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 7791317b: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"e2d1738f-0027-4817-9c99-96aeab28d432\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:42:44.405580", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:42:44.405580", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105757_69637af1 failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:42:44.406579", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105757_69637af1)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:42:44.406579", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105757_69637af1 permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:42:47.663530", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:57 MSK)\" (scheduled at 2025-09-17 13:42:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:47.664530", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:47.664530", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:42:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:52.662671", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:43:37 MSK)\" (scheduled at 2025-09-17 13:42:52.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:52.663672", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:43:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:42:57.664858", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:07 MSK)\" (scheduled at 2025-09-17 13:42:57.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:42:57.665859", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:42:57.665859", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:07.653432", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:43:37 MSK)\" (scheduled at 2025-09-17 13:43:07.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:07.654555", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:43:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:07.668726", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:17 MSK)\" (scheduled at 2025-09-17 13:43:07.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:07.669772", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:43:07.670300", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:17 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:17.664996", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:27 MSK)\" (scheduled at 2025-09-17 13:43:17.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:17.665997", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:43:17.665997", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:27 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:27.669775", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:37 MSK)\" (scheduled at 2025-09-17 13:43:27.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:27.670777", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:43:27.670777", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:37.667586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:44:07 MSK)\" (scheduled at 2025-09-17 13:43:37.651806+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:37.667586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:44:37 MSK)\" (scheduled at 2025-09-17 13:43:37.652805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:37.667586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:44:22 MSK)\" (scheduled at 2025-09-17 13:43:37.653805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:37.667586", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:47 MSK)\" (scheduled at 2025-09-17 13:43:37.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:37.669683", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F1 screenshots (trigger: interval[0:00:30], next run at: 2025-09-17 13:44:07 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:37.670205", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F3 screenshots (trigger: interval[0:00:45], next run at: 2025-09-17 13:44:22 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:37.670205", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:43:37.670719", "level": "INFO", "logger": "core.image_processor", "message": "Processing 4 screenshots for F2", "module": "image_processor", "function": "process_hotkey_folder", "line": 403}
{"timestamp": "2025-09-17T13:43:37.670719", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:47 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:37.761524", "level": "INFO", "logger": "core.image_processor", "message": "Successfully merged 3 images into merged_20250917_134337_696_2285fe7e.jpg (700x1800) in 0.090s", "module": "image_processor", "function": "merge_to_vertical_column", "line": 252}
{"timestamp": "2025-09-17T13:43:37.766804", "level": "INFO", "logger": "core.image_processor", "message": "Cleaned up source files: 4 successful, 0 failed", "module": "image_processor", "function": "cleanup_source_files", "line": 368}
{"timestamp": "2025-09-17T13:43:37.767850", "level": "INFO", "logger": "core.database_manager", "message": "Created OCR session 19 for hotkey F2", "module": "database_manager", "function": "create_ocr_session", "line": 483}
{"timestamp": "2025-09-17T13:43:37.768376", "level": "INFO", "logger": "utils.scheduler", "message": "Submitted OCR job ocr_F2_1758105817_4021430c for F2 (session 19)", "module": "scheduler", "function": "process_hotkey_folder", "line": 264}
{"timestamp": "2025-09-17T13:43:37.768376", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105817_4021430c (attempt 1)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:43:37.768899", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Process F2 screenshots (trigger: interval[0:01:00], next run at: 2025-09-17 13:44:37 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
{"timestamp": "2025-09-17T13:43:37.769424", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request 216e1be0 for merged_20250917_134337_696_2285fe7e.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:43:37.769949", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:43:37.879770", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr 216e1be0: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:37.880302", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:43:37.987780", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision 216e1be0: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"a6247d9f-2846-4251-a7f5-72fbe5124bfc\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:37.988297", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:43:37.988810", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105817_4021430c failed on attempt 1: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:43:37.988810", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105817_4021430c for retry in 2s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:43:39.990220", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105817_4021430c (attempt 2)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:43:39.990220", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request fbc1c427 for merged_20250917_134337_696_2285fe7e.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:43:39.991220", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:43:40.088898", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr fbc1c427: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:40.089972", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:43:40.186735", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision fbc1c427: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"9767d265-885e-4968-833b-5d62bbda7b14\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:40.187776", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:43:40.188302", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105817_4021430c failed on attempt 2: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:43:40.188823", "level": "INFO", "logger": "core.ocr_queue", "message": "Requeuing job ocr_F2_1758105817_4021430c for retry in 4s", "module": "ocr_queue", "function": "_process_job", "line": 329}
{"timestamp": "2025-09-17T13:43:44.189867", "level": "INFO", "logger": "core.ocr_queue", "message": "Worker OCRWorker-1 processing job ocr_F2_1758105817_4021430c (attempt 3)", "module": "ocr_queue", "function": "_process_job", "line": 287}
{"timestamp": "2025-09-17T13:43:44.189867", "level": "INFO", "logger": "core.ocr_client", "message": "Starting OCR request f1915876 for merged_20250917_134337_696_2285fe7e.jpg (0.2MB)", "module": "ocr_client", "function": "send_image_for_recognition", "line": 146}
{"timestamp": "2025-09-17T13:43:44.190866", "level": "INFO", "logger": "core.ocr_client", "message": "Trying primary API: ocr format with api_key auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 298}
{"timestamp": "2025-09-17T13:43:44.302017", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for primary-ocr f1915876: HTTP 401: {\"error\":{\"grpcCode\":16,\"httpCode\":401,\"message\":\"Unknown api key 'AQVN****wxyz (5BDA1EF9)'\",\"httpStatus\":\"Unauthorized\",\"details\":[]}}", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:44.302532", "level": "INFO", "logger": "core.ocr_client", "message": "Trying fallback API: vision format with bearer auth", "module": "ocr_client", "function": "_send_dual_api_request", "line": 339}
{"timestamp": "2025-09-17T13:43:44.400427", "level": "ERROR", "logger": "core.ocr_client", "message": "Non-retryable error for fallback-vision f1915876: HTTP 401: {\n \"code\": 16,\n \"message\": \"The token is invalid\",\n \"details\": [\n  {\n   \"@type\": \"type.googleapis.com/google.rpc.RequestInfo\",\n   \"requestId\": \"24f9026b-ac0d-4827-b818-68ac043e4cba\"\n  }\n ]\n}\n", "module": "ocr_client", "function": "_send_request_with_retry_to_url", "line": 446}
{"timestamp": "2025-09-17T13:43:44.401469", "level": "ERROR", "logger": "core.ocr_client", "message": "Fallback API (vision) also failed", "module": "ocr_client", "function": "_send_dual_api_request", "line": 365}
{"timestamp": "2025-09-17T13:43:44.402003", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105817_4021430c failed on attempt 3: OCR processing returned no result", "module": "ocr_queue", "function": "_process_job", "line": 323}
{"timestamp": "2025-09-17T13:43:44.402518", "level": "ERROR", "logger": "utils.scheduler", "message": "OCR failed for F2: OCR processing returned no result (OCR job ocr_F2_1758105817_4021430c)", "module": "scheduler", "function": "ocr_completion_callback", "line": 230}
{"timestamp": "2025-09-17T13:43:44.403043", "level": "ERROR", "logger": "core.ocr_queue", "message": "Job ocr_F2_1758105817_4021430c permanently failed: OCR processing returned no result", "module": "ocr_queue", "function": "_handle_failed_job", "line": 377}
{"timestamp": "2025-09-17T13:43:47.661884", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:57 MSK)\" (scheduled at 2025-09-17 13:43:47.654805+03:00)", "module": "base", "function": "run_job", "line": 123}
{"timestamp": "2025-09-17T13:43:47.662885", "level": "INFO", "logger": "utils.scheduler", "message": "Status check cycle completed: 0 transitions, 0 inactive combinations removed", "module": "scheduler", "function": "run_status_check_cycle", "line": 339}
{"timestamp": "2025-09-17T13:43:47.663885", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"Status check and transition cycle (trigger: interval[0:00:10], next run at: 2025-09-17 13:43:57 MSK)\" executed successfully", "module": "base", "function": "run_job", "line": 144}
