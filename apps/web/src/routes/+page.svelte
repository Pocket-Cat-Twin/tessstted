<script lang="ts">
  import { onMount } from 'svelte';
  import Button from '$components/ui/Button.svelte';
  import KawaiiButton from '$components/ui/KawaiiButton.svelte';
  import KawaiiCard from '$components/ui/KawaiiCard.svelte';
  import FlowerDecoration from '$components/decorative/FlowerDecoration.svelte';
  import { configStore } from '$stores/config';
  import { fade, fly } from 'svelte/transition';

  $: config = $configStore.config;
  $: currentKurs = $configStore.kurs;

  let mounted = false;

  onMount(() => {
    mounted = true;
  });
</script>

<svelte:head>
  <title>YuYu Lolita Shopping - –ó–∞–∫–∞–∑—ã –∏–∑ –ö–∏—Ç–∞—è</title>
  <meta name="description" content="YuYu Lolita Shopping - –∑–∞–∫–∞–∑—ã —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ö–∏—Ç–∞—è —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –≤ –†–æ—Å—Å–∏—é. –ë—ã—Å—Ç—Ä–æ, –Ω–∞–¥–µ–∂–Ω–æ, –≤—ã–≥–æ–¥–Ω–æ." />
</svelte:head>

<!-- Hero Section -->
<section class="relative overflow-hidden hero-section">
  
  <!-- Coffee background overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-coffee-50/80 to-coffee-100/60"></div>

  <div class="relative container-custom section-py">
    <div class="text-center max-w-4xl mx-auto">
      <!-- Main heading -->
      {#if mounted}
        <h1 
          class="text-4xl md:text-6xl font-bold text-gray-900 mb-6 hero-text-shadow"
          in:fly={{ y: 30, duration: 600, delay: 100 }}
        >
          <span class="text-original-phrase">üå∏ –ó–∞–∫–∞–∑—ã –∏–∑ –ö–∏—Ç–∞—è üå∏</span>
          <span class="text-original-phrase block">—Å—Ç–∞–ª–∏ –ø—Ä–æ—â–µ</span>
        </h1>
      {:else}
        <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6 hero-text-shadow">
          <span class="text-original-phrase">üå∏ –ó–∞–∫–∞–∑—ã –∏–∑ –ö–∏—Ç–∞—è üå∏</span>
          <span class="text-original-phrase block">—Å—Ç–∞–ª–∏ –ø—Ä–æ—â–µ</span>
        </h1>
      {/if}

      <!-- Subtitle -->
      {#if mounted}
        <p 
          class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed"
          in:fly={{ y: 30, duration: 600, delay: 200 }}
        >
          –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –≤ –∑–∞–∫–∞–∑–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∏—Ç–∞–π—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫. 
          –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ü–µ–Ω—ã, –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –ø–æ–ª–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ.
        </p>
      {:else}
        <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed">
          –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –≤ –∑–∞–∫–∞–∑–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∏—Ç–∞–π—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫. 
          –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ü–µ–Ω—ã, –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –ø–æ–ª–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ.
        </p>
      {/if}

      <!-- Currency rate -->
      {#if mounted}
        <div 
          class="inline-flex items-center bg-white/80 backdrop-blur-sm border border-primary-200 rounded-full px-6 py-3 mb-8"
          in:fly={{ y: 30, duration: 600, delay: 300 }}
        >
          <div class="w-2 h-2 bg-green-500 rounded-full mr-3 animate-pulse"></div>
          <span class="text-gray-700 font-medium">
            –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å: <span class="text-primary-600 font-bold">{currentKurs} ‚ÇΩ/¬•</span>
          </span>
        </div>
      {:else}
        <div class="inline-flex items-center bg-white/80 backdrop-blur-sm border border-primary-200 rounded-full px-6 py-3 mb-8">
          <div class="w-2 h-2 bg-green-500 rounded-full mr-3 animate-pulse"></div>
          <span class="text-gray-700 font-medium">
            –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å: <span class="text-primary-600 font-bold">{currentKurs} ‚ÇΩ/¬•</span>
          </span>
        </div>
      {/if}

      <!-- CTA Buttons -->
      {#if mounted}
        <div 
          class="flex flex-col sm:flex-row gap-4 justify-center items-center"
          in:fly={{ y: 30, duration: 600, delay: 400 }}
        >
          <KawaiiButton href="/create">
            ‚ú® –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ ‚ú®
          </KawaiiButton>
          
          <KawaiiButton href="/track" variant="white">
            üîç –û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑
          </KawaiiButton>
        </div>
      {:else}
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <KawaiiButton href="/create">
            ‚ú® –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ ‚ú®
          </KawaiiButton>
          
          <KawaiiButton href="/track" variant="white">
            üîç –û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑
          </KawaiiButton>
        </div>
      {/if}
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="section-py bg-white/80">
  <div class="container-custom">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-kawaii font-bold text-gray-900 mb-4">
        üåü –ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å üåü
      </h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto font-body">
        –ú—ã –¥–µ–ª–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–∑–∞ –∏–∑ –ö–∏—Ç–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Feature 1 -->
      {#if mounted}
        <div in:fly={{ y: 30, duration: 600, delay: 100 }}>
          <KawaiiCard variant="sky" className="text-center hover-lift">
            <div class="text-6xl mb-4">üõ°Ô∏è</div>
            <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h3>
            <p class="text-gray-600 leading-relaxed">
              –†–∞–±–æ—Ç–∞–µ–º —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤.
            </p>
          </KawaiiCard>
        </div>
      {:else}
        <KawaiiCard variant="sky" className="text-center hover-lift">
          <div class="text-6xl mb-4">üõ°Ô∏è</div>
          <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h3>
          <p class="text-gray-600 leading-relaxed">
            –†–∞–±–æ—Ç–∞–µ–º —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤.
          </p>
        </KawaiiCard>
      {/if}

      <!-- Feature 2 -->
      {#if mounted}
        <div in:fly={{ y: 30, duration: 600, delay: 200 }}>
          <KawaiiCard variant="pink" className="text-center hover-lift">
            <div class="text-6xl mb-4">üí∞</div>
            <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–í—ã–≥–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã</h3>
            <p class="text-gray-600 leading-relaxed">
              –ß–µ—Å—Ç–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è 10%, –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –≤–∞–ª—é—Ç, –Ω–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π.
            </p>
          </KawaiiCard>
        </div>
      {:else}
        <KawaiiCard variant="pink" className="text-center hover-lift">
          <div class="text-6xl mb-4">üí∞</div>
          <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–í—ã–≥–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã</h3>
          <p class="text-gray-600 leading-relaxed">
            –ß–µ—Å—Ç–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è 10%, –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –≤–∞–ª—é—Ç, –Ω–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π.
          </p>
        </KawaiiCard>
      {/if}

      <!-- Feature 3 -->
      {#if mounted}
        <div in:fly={{ y: 30, duration: 600, delay: 300 }}>
          <KawaiiCard variant="mint" className="text-center hover-lift">
            <div class="text-6xl mb-4">üöÄ</div>
            <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
            <p class="text-gray-600 leading-relaxed">
              –î–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 2 –Ω–µ–¥–µ–ª—å. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –æ—Ç –∑–∞–∫–∞–∑–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è.
            </p>
          </KawaiiCard>
        </div>
      {:else}
        <KawaiiCard variant="mint" className="text-center hover-lift">
          <div class="text-6xl mb-4">üöÄ</div>
          <h3 class="text-xl font-kawaii font-bold text-gray-900 mb-4">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
          <p class="text-gray-600 leading-relaxed">
            –î–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 2 –Ω–µ–¥–µ–ª—å. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –æ—Ç –∑–∞–∫–∞–∑–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è.
          </p>
        </KawaiiCard>
      {/if}
    </div>
  </div>
</section>

<!-- How it works -->
<section class="section-py bg-gray-50/80">
  <div class="container-custom">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-kawaii font-bold text-gray-900 mb-4">
        ‚≠ê –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚≠ê
      </h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto font-body">
        –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤ 4 —à–∞–≥–∞
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <!-- Step 1 -->
      <div class="text-center">
        <div class="w-12 h-12 bg-primary-500 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg">
          1
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑</h3>
        <p class="text-gray-600 text-sm">
          –£–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        </p>
      </div>

      <!-- Step 2 -->
      <div class="text-center">
        <div class="w-12 h-12 bg-primary-500 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg">
          2
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">–ü–æ–ª—É—á–∏—Ç–µ —Ä–∞—Å—á–µ—Ç</h3>
        <p class="text-gray-600 text-sm">
          –ú—ã —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å —É—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏
        </p>
      </div>

      <!-- Step 3 -->
      <div class="text-center">
        <div class="w-12 h-12 bg-primary-500 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg">
          3
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">–ü—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –æ–ø–ª–∞—Ç—É</h3>
        <p class="text-gray-600 text-sm">
          –û–ø–ª–∞—Ç–∏—Ç–µ –∑–∞–∫–∞–∑ —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
        </p>
      </div>

      <!-- Step 4 -->
      <div class="text-center">
        <div class="w-12 h-12 bg-primary-500 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg">
          4
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–≤–∞—Ä</h3>
        <p class="text-gray-600 text-sm">
          –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –ø–æ—Å—ã–ª–∫—É
        </p>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="section-py relative overflow-hidden" style="background: linear-gradient(135deg, rgba(239, 176, 182, 0.8) 0%, rgba(230, 217, 245, 0.8) 100%);">
  
  <div class="container-custom text-center relative z-10">
    <h2 class="text-3xl md:text-4xl font-kawaii font-bold text-gray-800 mb-4">
      üíñ –ì–æ—Ç–æ–≤—ã —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑? üíñ
    </h2>
    <p class="text-xl text-gray-700 mb-8 max-w-2xl mx-auto font-body">
      –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
    </p>
    
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
      <KawaiiButton href="/create" className="bg-white text-primary-600 hover:bg-gray-50">
        ‚ú® –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ —Å–µ–π—á–∞—Å ‚ú®
      </KawaiiButton>
      
      <KawaiiButton href="/stories" variant="white">
        üìö –ò—Å—Ç–æ—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
      </KawaiiButton>
    </div>
  </div>
</section>